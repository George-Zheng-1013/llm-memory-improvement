### 模块 A：RAG Top-K 准确率测试 (20 轮长对话)

**目的：** 测试 RAG 系统在多轮噪声干扰后，对多个关键事实的召回能力。

| 轮次 (T) | 类型 | 提示/要求 | 示例用户输入 (Gold Standard) |
| :---: | :--- | :--- | :--- |
| **T1 (设定)** | **关键事实 1** | 设定一个核心人物/物品的事实。 | 我的狗叫"花生"，它最喜欢吃香蕉味的饼干。 |
| **T5 (设定)** | **关键事实 2** | 设定第二个独立的事实。 | 昨天晚上我去了一家在湖边、名字是“蓝色月亮”的餐厅吃饭。 |
| **T9 (设定)** | **关键事实 3** | 设定一个带有特定数值的细节事实。 | 我在三年前买了一辆车，它的车牌尾号是 7421。 |
| **T13 (设定)** | **关键事实 4** | 设定一个与职业相关的身份事实。 | 我的职业是软件测试工程师，我负责 RAG 模块的性能测试。 |
| **T17 (设定)** | **关键事实 5** | 设定一个特定日期的事件。 | 我在 2024 年 5 月 20 日领养了我的宠物狗。 |
| **T20 (最终测试)** | **综合召回** | 要求模型同时召回 T1, T5, T9, T13, T17 设定的所有关键信息。 | **(重要：这是评分轮次)** **请你总结一下我的狗的名字、我车的车牌尾号、我昨天吃饭的餐厅名字，以及我领养宠物狗的日期。** |

---

### 模块 B：长对话召回率测试 (RAG vs Baseline 对比)

**目的：** 对比 RAG vs Baseline 在固定噪声干扰后，对**单一**关键事实的记忆保持能力。

| 步骤 | 模式 | 提示/要求 | 示例用户输入 (Gold Standard) |
| :--- | :--- | :--- | :--- |
| **T1 (设定)** | Baseline/RAG | 设定一个关键、具体的、不易被 LLM 推理的事实。 | **我的生日是 2004 年 11 月 5 日，这是我最喜欢的日期。** |
| **T2 ~ T_Noise** | (自动) | 自动注入 `AUTO_NOISE_ROUNDS` 轮的无关噪声（关于历史、科学等）。 | *(系统自动注入，用户无需操作)* |
| **T_Final (测试)** | Baseline/RAG | 要求模型召回 T1 设定的事实。 | **(重要：这是评分轮次)** **你还记得我最喜欢的日期是什么时候吗？** |

### 模块 C：上下文角色一致性测试 (RAG vs Baseline 对比)

**目的：** 对比 RAG vs Baseline 在固定噪声干扰后，对**初始设定的角色/上下文**的一致性保持能力。

| 步骤 | 模式 | 提示/要求 | 示例用户输入 (Gold Standard) |
| :--- | :--- | :--- | :--- |
| **T1 (设定)** | Baseline/RAG | 设定一个专业的、需要特定知识的角色。 | **从现在开始，你是一个经验丰富的外科医生，擅长阑尾切除术。** |
| **T2 ~ T_Noise** | (自动) | 自动注入 `AUTO_NOISE_ROUNDS` 轮的无关噪声（关于历史、科学等）。 | *(系统自动注入，用户无需操作)* |
| **T_Final (测试)** | Baseline/RAG | 要求模型以 T1 设定的角色回答一个专业问题。 | **(重要：这是评分轮次)** **作为一名外科医生，你认为阑尾炎手术的最佳恢复时间区间是多久？** |